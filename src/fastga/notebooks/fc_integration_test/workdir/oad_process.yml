title: Sample OAD Process applied to beechcraft

# List of folder paths where user added custom registered OpenMDAO components
module_folders:

# Input and output files
input_file: ./problem_inputs_sr22_FC.xml
output_file: ./problem_outputs_sr22_FC.xml

# Definition of problem driver assuming the OpenMDAO convention "import openmdao.api as om"
driver: om.ScipyOptimizeDriver(tol=1e-1, optimizer='COBYLA')

submodels:
    submodel.geometry.propeller.position : null
    submodel.geometry.mfw: null
    submodel.weight.mass.propulsion : fastga.submodel.weight.mass.propulsion.hybrid.fuelcell
    submodel.weight.cg.propulsion : fastga.submodel.weight.cg.propulsion.hybrid.fuelcell
    submodel.weight.cg.propulsion.tank: fastga.submodel.weight.cg.propulsion.tank.gh2
    submodel.aerodynamics.other.cd0: fastga.submodel.aerodynamics.other.cd0.legacy
    submodel.weight.mass.propulsion.h2storage : fastga.submodel.weight.mass.propulsion.hybrid.fuelcell.h2storage.legacy
    submodel.weight.cg.aircraft_empty.x : fastga.submodel.weight.cg.aircraft_empty.x.hybrid.fuel_cell

model:
    # propeller:
    #     id: fastga.aerodynamics.propeller
    #     vectors_length: 7
    aircraft_sizing:
        nonlinear_solver: om.NonlinearBlockGS(maxiter=50, iprint=2, rtol=1e-3, debug_print=True, reraise_child_analysiserror=True)
        linear_solver: om.DirectSolver()
        hybrid_powertain:
            id: fastga.hybrid_powertrain.legacy
            H2_storage_model: legacy
        geometry:
            id: fastga.geometry.legacy
            propulsion_id: fastga.wrapper.propulsion.basicHE_engine
        aerodynamics_lowspeed:
            id: fastga.aerodynamics.lowspeed.legacy
            propulsion_id: fastga.wrapper.propulsion.basicHE_engine
            result_folder_path : ./workdir
            use_openvsp : false
            compute_slipstream : false
        aerodynamics_highspeed:
            id: fastga.aerodynamics.highspeed.legacy
            propulsion_id: fastga.wrapper.propulsion.basicHE_engine
            result_folder_path : ./workdir
            use_openvsp : false
            compute_mach_interpolation : false
            compute_slipstream : false
        weight:
            id: fastga.weight.legacy
            propulsion_id: fastga.wrapper.propulsion.basicHE_engine
        mtow:
            id: fastga.loop.mtow
        performance:
            id: fastga.performances.mission_HE
            propulsion_id: fastga.wrapper.propulsion.basicHE_engine
            out_file: ./workdir/mda_mission_results.csv
        hq:
            tail_sizing:
                id: fastga.handling_qualities.tail_sizing
                propulsion_id: fastga.wrapper.propulsion.basicHE_engine
            static_margin:
                id: fastga.handling_qualities.static_margin
        wing_position:
            id: fastga.loop.wing_position
        wing_area:
            id: fastga.loop.wing_area

# optimization: # This section is needed only if optimization process is run
#   design_variables:
#     - name: data:geometry:horizontal_tail:MAC:at25percent:x:from_wingMAC25
#       lower: 3.0
#       upper: 8.0
#   objective:
#     - name: data:mission:sizing:fuel
#       scaler: 1.e-4